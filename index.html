<!-- templates/index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Ultra-High-Res Viewer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://openseadragon.github.io/openseadragon/openseadragon.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
  <div class="container mx-auto p-4">
    <h1 class="text-2xl font-semibold mb-3">NASA Ultra-High-Resolution Viewer</h1>

    <div id="viewer" style="width: 100%; height: 70vh; border: 1px solid #ddd; background: black;"></div>

    <div class="mt-4">
      <button id="zoom-in" class="px-4 py-2 bg-blue-600 text-white rounded">Zoom In</button>
      <button id="zoom-out" class="px-4 py-2 bg-blue-600 text-white rounded">Zoom Out</button>
    </div>
  </div>

  <script>
    const dziUrl = "{{ dzi_url }}"; // e.g. /dzi/image.dzi

    const viewer = OpenSeadragon({
      id: "viewer",
      prefixUrl: "https://openseadragon.github.io/openseadragon/images/",
      tileSources: dziUrl,
      showNavigator: true,
      animationTime: 0.5,
      blendTime: 0.1,
      immediateRender: true
    });

    document.getElementById("zoom-in").addEventListener("click", ()=> viewer.viewport.zoomBy(1.5));
    document.getElementById("zoom-out").addEventListener("click", ()=> viewer.viewport.zoomBy(1/1.5));
  </script>
</body>
</html>
